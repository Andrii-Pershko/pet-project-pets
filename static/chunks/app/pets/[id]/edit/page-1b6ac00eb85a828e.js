(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[102],{105:(e,t,s)=>{"use strict";s.d(t,{Ay:()=>o,TK:()=>d,iD:()=>n,ri:()=>i});let r=(0,s(9267).Z0)({name:"user",initialState:{user:null,isAuthenticated:!1,loading:!1,error:null},reducers:{setLoading:(e,t)=>{e.loading=t.payload},setError:(e,t)=>{e.error=t.payload},login:(e,t)=>{e.user=t.payload,e.isAuthenticated=!0,e.error=null,localStorage.setItem("user",JSON.stringify(t.payload))},logout:e=>{e.user=null,e.isAuthenticated=!1,localStorage.removeItem("user")},updateUser:(e,t)=>{e.user&&(e.user={...e.user,...t.payload},localStorage.setItem("user",JSON.stringify(e.user)))}}}),{setLoading:a,setError:l,login:n,logout:i,updateUser:d}=r.actions,o=r.reducer},1802:(e,t,s)=>{"use strict";s.d(t,{G:()=>l,j:()=>a});var r=s(1213);let a=()=>(0,r.wA)(),l=r.d4},4389:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p});var r=s(5155),a=s(2115),l=s(63),n=s(1802),i=s(5396),d=s(9374),o=s(9379),c=s(8354),m=s(5626),u=s(6046),x=s(2619),h=s.n(x);function p(){let e=(0,l.useRouter)(),t=(0,l.useParams)(),s=(0,n.j)(),x=(0,n.G)(e=>e.pets.pets),{isInitialized:p,isAuthenticated:g}=(0,i.Y)(),[b,f]=(0,a.useState)(!1),[y,j]=(0,a.useState)({name:"",type:"dog",breed:"",age:"",weight:"",description:""}),v=t.id,N=x.find(e=>e.id===v);if((0,a.useEffect)(()=>{p&&!g&&e.push("/")},[p,g,e]),(0,a.useEffect)(()=>{N&&j({name:N.name,type:N.type,breed:N.breed,age:N.age.toString(),weight:N.weight.toString(),description:N.description||""})},[N]),!p)return(0,r.jsx)(c.k,{message:"Завантаження..."});if(!g)return(0,r.jsx)(c.k,{message:"Перенаправлення..."});let w=e=>{let{name:t,value:s}=e.target;j(e=>({...e,[t]:s}))},S=async t=>{t.preventDefault(),N&&(f(!0),setTimeout(()=>{let t={...N,name:y.name,type:y.type,breed:y.breed,age:parseInt(y.age),weight:parseFloat(y.weight),description:y.description};s((0,d.HP)(t)),e.push("/pets")},1e3))};return N?(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsx)(o.V,{}),(0,r.jsx)("main",{className:"max-w-3xl mx-auto py-6 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"px-4 sm:px-0",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsxs)(h(),{href:"/pets",className:"inline-flex items-center text-sm text-gray-500 hover:text-gray-700 mb-4",children:[(0,r.jsx)(m.A,{className:"h-4 w-4 mr-1"}),"Назад до списку"]}),(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Редагувати тварину"}),(0,r.jsxs)("p",{className:"mt-2 text-gray-600",children:["Оновіть інформацію про ",N.name]})]}),(0,r.jsx)("div",{className:"bg-white shadow rounded-lg",children:(0,r.jsxs)("form",{onSubmit:S,className:"p-6 space-y-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Ім'я тварини *"}),(0,r.jsx)("input",{type:"text",id:"name",name:"name",required:!0,value:y.name,onChange:w,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900",placeholder:"Введіть ім'я"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700 mb-2",children:"Тип тварини *"}),(0,r.jsx)("select",{id:"type",name:"type",required:!0,value:y.type,onChange:w,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900",children:[{value:"dog",label:"Собака"},{value:"cat",label:"Кіт"},{value:"bird",label:"Птах"},{value:"fish",label:"Риба"},{value:"other",label:"Інша тварина"}].map(e=>(0,r.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"breed",className:"block text-sm font-medium text-gray-700 mb-2",children:"Порода *"}),(0,r.jsx)("input",{type:"text",id:"breed",name:"breed",required:!0,value:y.breed,onChange:w,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900",placeholder:"Введіть породу"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"age",className:"block text-sm font-medium text-gray-700 mb-2",children:"Вік (років) *"}),(0,r.jsx)("input",{type:"number",id:"age",name:"age",required:!0,min:"0",max:"30",value:y.age,onChange:w,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900",placeholder:"0"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"weight",className:"block text-sm font-medium text-gray-700 mb-2",children:"Вага (кг) *"}),(0,r.jsx)("input",{type:"number",id:"weight",name:"weight",required:!0,min:"0",step:"0.1",value:y.weight,onChange:w,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900",placeholder:"0.0"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-2",children:"Опис"}),(0,r.jsx)("textarea",{id:"description",name:"description",rows:4,value:y.description,onChange:w,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900",placeholder:"Опишіть особливості вашої тварини..."})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,r.jsx)(h(),{href:"/pets",className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:"Скасувати"}),(0,r.jsxs)("button",{type:"submit",disabled:b,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[b?(0,r.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):(0,r.jsx)(u.A,{className:"h-4 w-4 mr-2"}),"Зберегти зміни"]})]})]})})]})})]}):(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsx)(o.V,{}),(0,r.jsx)("div",{className:"max-w-3xl mx-auto py-6 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Тварину не знайдено"}),(0,r.jsx)(h(),{href:"/pets",className:"text-blue-600 hover:text-blue-800",children:"Повернутися до списку"})]})})]})}},5396:(e,t,s)=>{"use strict";s.d(t,{Y:()=>i});var r=s(2115),a=s(1802),l=s(105),n=s(9374);function i(){let e=(0,a.j)(),t=(0,a.G)(e=>e.user.isAuthenticated),s=(0,a.G)(e=>e.pets.pets),[i,d]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{{let r=localStorage.getItem("user");if(r&&!t)try{let t=JSON.parse(r);e((0,l.iD)(t))}catch(e){localStorage.removeItem("user")}let a=localStorage.getItem("pets");if(a&&0===s.length)try{let t=JSON.parse(a);t.length>0&&e((0,n.bp)(t))}catch(e){localStorage.removeItem("pets")}else if(0===s.length&&t){let t=[{id:"1",name:"Барсік",type:"cat",breed:"Британська короткошерста",age:3,weight:4.5,ownerId:"1",imageUrl:"/api/placeholder/300/200",description:"Спокійний та ласкавий кіт",createdAt:new Date().toISOString()},{id:"2",name:"Рекс",type:"dog",breed:"Німецька вівчарка",age:2,weight:28,ownerId:"1",imageUrl:"/api/placeholder/300/200",description:"Активний та розумний пес",createdAt:new Date().toISOString()},{id:"3",name:"Кеша",type:"bird",breed:"Папуга",age:1,weight:.3,ownerId:"1",imageUrl:"/api/placeholder/300/200",description:"Говорливий папуга",createdAt:new Date().toISOString()}];e((0,n.bp)(t))}d(!0)}},[e,t,s.length]),{isInitialized:i,isAuthenticated:t}}},5626:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(1847).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},6046:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(1847).A)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},6911:(e,t,s)=>{Promise.resolve().then(s.bind(s,4389))},8354:(e,t,s)=>{"use strict";s.d(t,{k:()=>a});var r=s(5155);function a(e){let{message:t="Завантаження...",size:s="md"}=e;return(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full border-b-2 border-blue-600 mx-auto ".concat({sm:"h-8 w-8",md:"h-12 w-12",lg:"h-16 w-16"}[s])}),(0,r.jsx)("p",{className:"mt-4 text-gray-600",children:t})]})})}},9374:(e,t,s)=>{"use strict";s.d(t,{Ay:()=>c,BI:()=>n,HP:()=>i,R7:()=>d,bp:()=>o});let r=(0,s(9267).Z0)({name:"pets",initialState:{pets:[],loading:!1,error:null},reducers:{setLoading:(e,t)=>{e.loading=t.payload},setError:(e,t)=>{e.error=t.payload},addPet:(e,t)=>{e.pets.push(t.payload),localStorage.setItem("pets",JSON.stringify(e.pets))},updatePet:(e,t)=>{let s=e.pets.findIndex(e=>e.id===t.payload.id);-1!==s&&(e.pets[s]=t.payload,localStorage.setItem("pets",JSON.stringify(e.pets)))},deletePet:(e,t)=>{e.pets=e.pets.filter(e=>e.id!==t.payload),localStorage.setItem("pets",JSON.stringify(e.pets))},setPets:(e,t)=>{e.pets=t.payload,localStorage.setItem("pets",JSON.stringify(e.pets))}}}),{setLoading:a,setError:l,addPet:n,updatePet:i,deletePet:d,setPets:o}=r.actions,c=r.reducer},9379:(e,t,s)=>{"use strict";s.d(t,{V:()=>b});var r=s(5155),a=s(2115),l=s(2619),n=s.n(l),i=s(63),d=s(1802),o=s(105),c=s(5993),m=s(5547),u=s(508),x=s(6191),h=s(4926),p=s(5229),g=s(9540);function b(){let e=(0,i.usePathname)(),t=(0,i.useRouter)(),s=(0,d.j)(),l=(0,d.G)(e=>e.user.isAuthenticated),b=(0,d.G)(e=>e.user.user),[f,y]=(0,a.useState)(!1),j=()=>{s((0,o.ri)()),setTimeout(()=>{t.push("/")},100)},v=[{href:"/",label:"Головна",icon:c.A},{href:"/pets",label:"Мої тварини",icon:m.A},{href:"/profile",label:"Профіль",icon:u.A}];return l?(0,r.jsx)("nav",{className:"bg-white shadow-lg border-b",children:(0,r.jsxs)("div",{className:"container-responsive",children:[(0,r.jsxs)("div",{className:"flex justify-between h-16",children:[(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsxs)("div",{className:"flex-shrink-0 flex items-center",children:[(0,r.jsx)(m.A,{className:"h-8 w-8 text-blue-600"}),(0,r.jsx)("span",{className:"ml-2 text-lg sm:text-xl font-bold text-gray-900",children:"PET Project"})]})}),(0,r.jsxs)("div",{className:"hidden lg:flex items-center space-x-4",children:[v.map(t=>{let s=t.icon,a=e===t.href;return(0,r.jsxs)(n(),{href:t.href,className:"flex items-center px-3 py-2 rounded-md text-sm font-medium transition-colors ".concat(a?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:[(0,r.jsx)(s,{className:"h-4 w-4 mr-2"}),t.label]},t.href)}),(0,r.jsxs)(n(),{href:"/pets/add",className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700 transition-colors",children:[(0,r.jsx)(x.A,{className:"h-4 w-4 mr-2"}),"Додати тварину"]}),(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsxs)("span",{className:"text-sm text-gray-700",children:["Привіт, ",null==b?void 0:b.name,"!"]}),(0,r.jsxs)("button",{onClick:j,className:"flex items-center px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-50 rounded-md transition-colors",children:[(0,r.jsx)(h.A,{className:"h-4 w-4 mr-2"}),"Вийти"]})]})]}),(0,r.jsx)("div",{className:"lg:hidden flex items-center",children:(0,r.jsx)("button",{onClick:()=>y(!f),className:"p-2 rounded-md text-gray-600 hover:text-gray-900 hover:bg-gray-50",children:f?(0,r.jsx)(p.A,{className:"h-6 w-6"}):(0,r.jsx)(g.A,{className:"h-6 w-6"})})})]}),f&&(0,r.jsx)("div",{className:"lg:hidden border-t border-gray-200 py-4",children:(0,r.jsxs)("div",{className:"space-y-2",children:[v.map(t=>{let s=t.icon,a=e===t.href;return(0,r.jsxs)(n(),{href:t.href,onClick:()=>y(!1),className:"flex items-center px-3 py-2 rounded-md text-base font-medium transition-colors ".concat(a?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:[(0,r.jsx)(s,{className:"h-5 w-5 mr-3"}),t.label]},t.href)}),(0,r.jsxs)(n(),{href:"/pets/add",onClick:()=>y(!1),className:"flex items-center px-3 py-2 bg-blue-600 text-white rounded-md text-base font-medium hover:bg-blue-700 transition-colors",children:[(0,r.jsx)(x.A,{className:"h-5 w-5 mr-3"}),"Додати тварину"]}),(0,r.jsxs)("div",{className:"pt-4 border-t border-gray-200",children:[(0,r.jsxs)("div",{className:"px-3 py-2 text-sm text-gray-700",children:["Привіт, ",null==b?void 0:b.name,"!"]}),(0,r.jsxs)("button",{onClick:()=>{j(),y(!1)},className:"w-full flex items-center px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-50 rounded-md transition-colors",children:[(0,r.jsx)(h.A,{className:"h-5 w-5 mr-3"}),"Вийти"]})]})]})})]})}):null}}},e=>{e.O(0,[555,327,441,493,358],()=>e(e.s=6911)),_N_E=e.O()}]);