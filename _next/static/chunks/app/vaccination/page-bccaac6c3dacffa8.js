(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[272],{271:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>x,B6:()=>r,BB:()=>l,fB:()=>o,jY:()=>d});let s=(0,a(9267).Z0)({name:"vaccination",initialState:{vaccinations:[],loading:!1,error:null},reducers:{setLoading:(e,t)=>{e.loading=t.payload},setError:(e,t)=>{e.error=t.payload},addVaccination:(e,t)=>{e.vaccinations.push(t.payload),localStorage.setItem("vaccinations",JSON.stringify(e.vaccinations))},updateVaccination:(e,t)=>{let a=e.vaccinations.findIndex(e=>e.id===t.payload.id);-1!==a&&(e.vaccinations[a]=t.payload,localStorage.setItem("vaccinations",JSON.stringify(e.vaccinations)))},deleteVaccination:(e,t)=>{e.vaccinations=e.vaccinations.filter(e=>e.id!==t.payload),localStorage.setItem("vaccinations",JSON.stringify(e.vaccinations))},setVaccinations:(e,t)=>{e.vaccinations=t.payload,localStorage.setItem("vaccinations",JSON.stringify(e.vaccinations))},updateVaccinationStatus:(e,t)=>{let a=e.vaccinations.find(e=>e.id===t.payload.id);a&&(a.status=t.payload.status,localStorage.setItem("vaccinations",JSON.stringify(e.vaccinations)))}}}),{setLoading:n,setError:i,addVaccination:r,updateVaccination:c,deleteVaccination:l,setVaccinations:o,updateVaccinationStatus:d}=s.actions,x=s.reducer},1360:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(1847).A)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},2056:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(1847).A)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},4125:(e,t,a)=>{Promise.resolve().then(a.bind(a,5580))},5580:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>v});var s=a(5155),n=a(2115),i=a(63),r=a(5396),c=a(9379),l=a(8354);a(2056);var o=a(6983);let d=(0,a(1847).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);var x=a(5626),m=a(6191),u=a(1360),p=a(2619),h=a.n(p),g=a(1802),y=a(271);function v(){let e=(0,i.useRouter)(),t=(0,g.j)(),{isInitialized:a,isAuthenticated:p}=(0,r.Y)(),v=(0,g.G)(e=>e.pets.pets),b=(0,g.G)(e=>e.vaccination.vaccinations),[j,f]=(0,n.useState)({petId:"",type:"",vaccinationDate:"",nextVaccinationDate:"",status:"scheduled",notes:""}),[N,k]=(0,n.useState)(!1);(0,n.useEffect)(()=>{a&&!p&&e.push("/")},[a,p,e]),(0,n.useEffect)(()=>{if(a&&p&&0===b.length){let e=localStorage.getItem("vaccinations");if(e)try{let a=JSON.parse(e);t((0,y.fB)(a))}catch(e){localStorage.removeItem("vaccinations")}}},[a,p,b.length,t]);let w=e=>{let{name:t,value:a}=e.target;f(e=>{let s={...e,[t]:a};return("type"===t||"vaccinationDate"===t)&&s.type&&s.vaccinationDate&&(s.nextVaccinationDate=D(s.type,s.vaccinationDate)),s})},D=(e,t)=>{let a=new Date(t);switch(e){case"complex":case"rabies":case"other":default:a.setFullYear(a.getFullYear()+1);break;case"parasites":a.setMonth(a.getMonth()+3);break;case"diseases":a.setMonth(a.getMonth()+6)}return a.toISOString().split("T")[0]};return a?p?(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,s.jsx)(c.V,{}),(0,s.jsx)("main",{className:"max-w-4xl mx-auto py-6 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"px-4 sm:px-0",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsxs)(h(),{href:"/",className:"inline-flex items-center text-sm text-gray-500 hover:text-gray-700 mb-4",children:[(0,s.jsx)(x.A,{className:"h-4 w-4 mr-1"}),"Назад на головну"]}),(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Планування вакцинації"}),(0,s.jsx)("p",{className:"mt-2 text-gray-600",children:"Відстежуйте та плануйте вакцинацію ваших домашніх улюбленців"})]}),(0,s.jsxs)("div",{className:"bg-white shadow rounded-lg p-6 mb-8",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Графік вакцинації"}),(0,s.jsxs)("button",{onClick:()=>k(!N),className:"inline-flex items-center px-3 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[(0,s.jsx)(m.A,{className:"h-4 w-4 mr-2"}),"Додати вакцинацію"]})]}),0===b.length?(0,s.jsxs)("div",{className:"text-center py-8",children:[(0,s.jsx)("p",{className:"text-gray-500 text-lg",children:"Вакцинацій не знайдено"}),(0,s.jsx)("p",{className:"text-gray-400 mt-2",children:"Додайте першу вакцинацію для вашої тварини"})]}):(0,s.jsx)("div",{className:"space-y-4",children:b.map(e=>{let a="completed"===e.status,n=a?d:o.A,i=e.nextVaccinationDate||e.vaccinationDate;return(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg ".concat(a?"border-green-200 bg-green-50":"border-blue-200 bg-blue-50"),children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)(n,{className:"h-5 w-5 ".concat(a?"text-green-500":"text-blue-500")}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{className:"font-medium text-gray-900",children:[e.petName," (","dog"===e.petType?"Собака":"cat"===e.petType?"Кіт":"bird"===e.petType?"Птах":"fish"===e.petType?"Риба":"Тварина",")"]}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:(e=>{switch(e){case"complex":return"Комплексна вакцинація";case"rabies":return"Щеплення від сказу";case"parasites":return"Від паразитів";case"diseases":return"Від хвороб";case"other":return"Інше";default:return"Невідомо"}})(e.type)}),e.notes&&(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:e.notes})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsx)("p",{className:"text-sm ".concat(a?"text-green-600":"text-blue-600"),children:a?"Зроблена вакцинація":"Запланована вакцинація"}),(0,s.jsx)("p",{className:"font-medium ".concat(a?"text-green-800":"text-blue-800"),children:new Date(i).toLocaleDateString("uk-UA")})]}),(0,s.jsx)("div",{className:"flex flex-col space-y-1",children:(0,s.jsx)("button",{onClick:()=>{var a;return a=e.id,void(confirm("Ви впевнені, що хочете видалити цю вакцинацію?")&&t((0,y.BB)(a)))},className:"p-1 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors",children:(0,s.jsx)(u.A,{className:"h-5 w-5 cursor-pointer"})})})]})]},e.id)})})]}),N&&(0,s.jsxs)("div",{className:"bg-white shadow rounded-lg p-6 mb-8",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Додати нову вакцинацію"}),(0,s.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!j.petId||!j.type||!j.vaccinationDate)return void alert("Будь ласка, заповніть обов'язкові поля");let a=v.find(e=>e.id===j.petId);if(!a)return void alert("Тварина не знайдена");let s=j.nextVaccinationDate||D(j.type,j.vaccinationDate),n={id:Date.now().toString(),petId:j.petId,petName:a.name,petType:a.type,type:j.type,vaccinationDate:j.vaccinationDate,nextVaccinationDate:s,status:j.status,notes:j.notes||void 0,createdAt:new Date().toISOString()};t((0,y.B6)(n)),f({petId:"",type:"",vaccinationDate:"",nextVaccinationDate:"",status:"scheduled",notes:""}),k(!1)},className:"space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Оберіть тварину *"}),(0,s.jsxs)("select",{name:"petId",value:j.petId,onChange:w,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900",required:!0,children:[(0,s.jsx)("option",{value:"",children:"Оберіть тварину"}),v.map(e=>(0,s.jsxs)("option",{value:e.id,children:[e.name," (","dog"===e.type?"Собака":"cat"===e.type?"Кіт":"bird"===e.type?"Птах":"fish"===e.type?"Риба":"Тварина",")"]},e.id))]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Тип вакцинації *"}),(0,s.jsxs)("select",{name:"type",value:j.type,onChange:w,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900",required:!0,children:[(0,s.jsx)("option",{value:"",children:"Оберіть тип вакцинації"}),(0,s.jsx)("option",{value:"complex",children:"Комплексна вакцинація"}),(0,s.jsx)("option",{value:"rabies",children:"Щеплення від сказу"}),(0,s.jsx)("option",{value:"parasites",children:"Від паразитів"}),(0,s.jsx)("option",{value:"diseases",children:"Від хвороб"}),(0,s.jsx)("option",{value:"other",children:"Інше"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Дата вакцинації *"}),(0,s.jsx)("input",{type:"date",name:"vaccinationDate",value:j.vaccinationDate,onChange:w,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Статус вакцинації"}),(0,s.jsxs)("select",{name:"status",value:j.status,onChange:w,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900",children:[(0,s.jsx)("option",{value:"scheduled",children:"Запланована вакцинація"}),(0,s.jsx)("option",{value:"completed",children:"Зроблена вакцинація"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Нотатки"}),(0,s.jsx)("textarea",{name:"notes",value:j.notes,onChange:w,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900",placeholder:"Додаткові нотатки про вакцинацію..."})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,s.jsx)("button",{type:"button",onClick:()=>k(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors",children:"Скасувати"}),(0,s.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Додати вакцинацію"})]})]})]}),(0,s.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Інформація про вакцинацію"}),(0,s.jsxs)("div",{className:"prose prose-sm text-gray-600",children:[(0,s.jsx)("p",{className:"mb-3",children:"Регулярна вакцинація - це важливий крок для захисту здоров'я ваших домашніх улюбленців. Вона допомагає запобігти серйозним захворюванням та забезпечує довге та здорове життя."}),(0,s.jsx)("p",{className:"mb-3",children:(0,s.jsx)("strong",{children:"Рекомендована частота вакцинації:"})}),(0,s.jsxs)("ul",{className:"list-disc pl-5 space-y-1",children:[(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Комплексна вакцинація:"})," щорічно"]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Щеплення від сказу:"})," щорічно"]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Від паразитів:"})," кожні 3 місяці"]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Від хвороб:"})," кожні 6 місяців"]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Інше:"})," щорічно"]})]})]})]})]})})]}):(0,s.jsx)(l.k,{message:"Перенаправлення..."}):(0,s.jsx)(l.k,{message:"Завантаження..."})}},5626:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(1847).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},6983:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(1847).A)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])}},e=>{e.O(0,[555,759,871,441,493,358],()=>e(e.s=4125)),_N_E=e.O()}]);