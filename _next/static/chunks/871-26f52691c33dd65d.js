"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[871],{105:(e,t,s)=>{s.d(t,{Ay:()=>c,TK:()=>d,iD:()=>i,ri:()=>n});let a=(0,s(9267).Z0)({name:"user",initialState:{user:null,isAuthenticated:!1,loading:!1,error:null},reducers:{setLoading:(e,t)=>{e.loading=t.payload},setError:(e,t)=>{e.error=t.payload},login:(e,t)=>{e.user=t.payload,e.isAuthenticated=!0,e.error=null,localStorage.setItem("user",JSON.stringify(t.payload))},logout:e=>{e.user=null,e.isAuthenticated=!1,localStorage.removeItem("user")},updateUser:(e,t)=>{e.user&&(e.user={...e.user,...t.payload},localStorage.setItem("user",JSON.stringify(e.user)))}}}),{setLoading:r,setError:l,login:i,logout:n,updateUser:d}=a.actions,c=a.reducer},1802:(e,t,s)=>{s.d(t,{G:()=>l,j:()=>r});var a=s(1213);let r=()=>(0,a.wA)(),l=a.d4},5396:(e,t,s)=>{s.d(t,{Y:()=>n});var a=s(2115),r=s(1802),l=s(105),i=s(9374);function n(){let e=(0,r.j)(),t=(0,r.G)(e=>e.user.isAuthenticated),s=(0,r.G)(e=>e.pets.pets),[n,d]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{{let a=localStorage.getItem("user");if(a&&!t)try{let t=JSON.parse(a);e((0,l.iD)(t))}catch(e){localStorage.removeItem("user")}let r=localStorage.getItem("pets");if(r&&0===s.length)try{let t=JSON.parse(r);t.length>0&&e((0,i.bp)(t))}catch(e){localStorage.removeItem("pets")}else if(0===s.length&&t){let t=[{id:"1",name:"Барсік",type:"cat",breed:"Британська короткошерста",age:3,weight:4.5,ownerId:"1",imageUrl:"/api/placeholder/300/200",description:"Спокійний та ласкавий кіт",createdAt:new Date().toISOString(),favorite:!1},{id:"2",name:"Рекс",type:"dog",breed:"Німецька вівчарка",age:2,weight:28,ownerId:"1",imageUrl:"/api/placeholder/300/200",description:"Активний та розумний пес",createdAt:new Date().toISOString(),favorite:!0},{id:"3",name:"Кеша",type:"bird",breed:"Папуга",age:1,weight:.3,ownerId:"1",imageUrl:"/api/placeholder/300/200",description:"Говорливий папуга",createdAt:new Date().toISOString(),favorite:!1}];e((0,i.bp)(t))}d(!0)}},[e,t,s.length]),{isInitialized:n,isAuthenticated:t}}},8354:(e,t,s)=>{s.d(t,{k:()=>r});var a=s(5155);function r(e){let{message:t="Завантаження...",size:s="md"}=e;return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full border-b-2 border-blue-600 mx-auto ".concat({sm:"h-8 w-8",md:"h-12 w-12",lg:"h-16 w-16"}[s])}),(0,a.jsx)("p",{className:"mt-4 text-gray-600",children:t})]})})}},9374:(e,t,s)=>{s.d(t,{Ay:()=>m,BI:()=>i,HP:()=>n,R7:()=>d,bp:()=>c,dw:()=>o});let a=(0,s(9267).Z0)({name:"pets",initialState:{pets:[],loading:!1,error:null},reducers:{setLoading:(e,t)=>{e.loading=t.payload},setError:(e,t)=>{e.error=t.payload},addPet:(e,t)=>{e.pets.push(t.payload),localStorage.setItem("pets",JSON.stringify(e.pets))},updatePet:(e,t)=>{let s=e.pets.findIndex(e=>e.id===t.payload.id);-1!==s&&(e.pets[s]=t.payload,localStorage.setItem("pets",JSON.stringify(e.pets)))},deletePet:(e,t)=>{e.pets=e.pets.filter(e=>e.id!==t.payload),localStorage.setItem("pets",JSON.stringify(e.pets))},setPets:(e,t)=>{e.pets=t.payload,localStorage.setItem("pets",JSON.stringify(e.pets))},toggleFavorite:(e,t)=>{let s=e.pets.find(e=>e.id===t.payload);s&&(s.favorite=!s.favorite,localStorage.setItem("pets",JSON.stringify(e.pets)))}}}),{setLoading:r,setError:l,addPet:i,updatePet:n,deletePet:d,setPets:c,toggleFavorite:o}=a.actions,m=a.reducer},9379:(e,t,s)=>{s.d(t,{V:()=>b});var a=s(5155),r=s(8661),l=s.n(r),i=s(2115),n=s(2619),d=s.n(n),c=s(63),o=s(1802),m=s(105),x=s(5993),p=s(5547),h=s(508),u=s(6191),g=s(4926),f=s(5229),y=s(9540);function b(){let e=(0,c.usePathname)(),t=(0,c.useRouter)(),s=(0,o.j)(),r=(0,o.G)(e=>e.user.isAuthenticated),n=(0,o.G)(e=>e.user.user),[b,j]=(0,i.useState)(!1),v=()=>{s((0,m.ri)()),setTimeout(()=>{t.push("/")},100)},N=[{href:"/",label:"Головна",icon:x.A},{href:"/pets",label:"Мої тварини",icon:p.A},{href:"/profile",label:"Профіль",icon:h.A}];return r?(0,a.jsx)("nav",{className:"bg-white shadow-lg border-b",children:(0,a.jsxs)("div",{className:"container-responsive",children:[(0,a.jsxs)("div",{className:"flex justify-between h-16",children:[(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsxs)("div",{className:"cursor-pointer flex-shrink-0 flex items-center",onClick:()=>t.push("/"),children:[(0,a.jsx)(p.A,{className:"h-8 w-8 text-blue-600"}),(0,a.jsx)("span",{className:"ml-2 text-lg sm:text-xl font-bold text-gray-900",children:"PET Project"})]})}),(0,a.jsxs)("div",{style:{display:"none"},className:"jsx-a976f11d10308ee8 hidden xl:flex items-center space-x-4",children:[(0,a.jsx)(l(),{id:"a976f11d10308ee8",children:"@media(min-width:1100px){div.jsx-a976f11d10308ee8{display:flex!important}}"}),N.map(t=>{let s=t.icon,r=e===t.href;return(0,a.jsxs)(d(),{href:t.href,className:"flex items-center px-3 py-2 rounded-md text-sm font-medium transition-colors ".concat(r?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:[(0,a.jsx)(s,{className:"jsx-a976f11d10308ee8 h-4 w-4 mr-2"}),t.label]},t.href)}),(0,a.jsxs)(d(),{href:"/pets/add",className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700 transition-colors",children:[(0,a.jsx)(u.A,{className:"h-4 w-4 mr-2"}),"Додати тварину"]}),(0,a.jsxs)("div",{className:"jsx-a976f11d10308ee8 flex items-center space-x-3",children:[(0,a.jsxs)("span",{className:"jsx-a976f11d10308ee8 text-sm text-gray-700",children:["Привіт, ",null==n?void 0:n.name,"!"]}),(0,a.jsxs)("button",{onClick:v,className:"jsx-a976f11d10308ee8 flex items-center px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-50 rounded-md transition-colors",children:[(0,a.jsx)(g.A,{className:"h-4 w-4 mr-2"}),"Вийти"]})]})]}),(0,a.jsxs)("div",{style:{display:"none"},className:"jsx-441c07cfc6157a2 flex items-center",children:[(0,a.jsx)(l(),{id:"441c07cfc6157a2",children:"@media(max-width:1099px){div.jsx-441c07cfc6157a2{display:flex!important}}"}),(0,a.jsx)("button",{onClick:()=>j(!b),className:"jsx-441c07cfc6157a2 p-2 rounded-md text-gray-600 hover:text-gray-900 hover:bg-gray-50",children:b?(0,a.jsx)(f.A,{className:"h-6 w-6"}):(0,a.jsx)(y.A,{className:"h-6 w-6"})})]})]}),b&&(0,a.jsxs)("div",{style:{display:"block"},className:"jsx-ab534176903f1c72 border-t border-gray-200 py-4",children:[(0,a.jsx)(l(),{id:"ab534176903f1c72",children:"@media(min-width:1100px){div.jsx-ab534176903f1c72{display:none!important}}"}),(0,a.jsxs)("div",{className:"jsx-ab534176903f1c72 space-y-2",children:[N.map(t=>{let s=t.icon,r=e===t.href;return(0,a.jsxs)(d(),{href:t.href,onClick:()=>j(!1),className:"flex items-center px-3 py-2 rounded-md text-base font-medium transition-colors ".concat(r?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:[(0,a.jsx)(s,{className:"jsx-ab534176903f1c72 h-5 w-5 mr-3"}),t.label]},t.href)}),(0,a.jsxs)(d(),{href:"/pets/add",onClick:()=>j(!1),className:"flex items-center px-3 py-2 bg-blue-600 text-white rounded-md text-base font-medium hover:bg-blue-700 transition-colors",children:[(0,a.jsx)(u.A,{className:"h-5 w-5 mr-3"}),"Додати тварину"]}),(0,a.jsxs)("div",{className:"jsx-ab534176903f1c72 pt-4 border-t border-gray-200",children:[(0,a.jsxs)("div",{className:"jsx-ab534176903f1c72 px-3 py-2 text-sm text-gray-700",children:["Привіт, ",null==n?void 0:n.name,"!"]}),(0,a.jsxs)("button",{onClick:()=>{v(),j(!1)},className:"jsx-ab534176903f1c72 w-full flex items-center px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-50 rounded-md transition-colors",children:[(0,a.jsx)(g.A,{className:"h-5 w-5 mr-3"}),"Вийти"]})]})]})]})]})}):null}}}]);